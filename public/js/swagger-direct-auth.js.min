(function(){var t=localStorage.getItem("token"),e="dev-key";console.log("[Swagger] Mise en place de l'authentification directe..."),document.querySelector(".swagger-ui")&&(console.log("[Swagger] Authentification directe configurée avec succès"),t&&(console.log("[Swagger] Application du JWT: "+t),applyAuth("Bearer",t)),e&&(console.log("[Swagger] Application de la clé API: "+e),applyAuth("apiKey",e)));function applyAuth(type,value){var authType=type,authValue=value,originalOpen=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){var originalSend=this.send,url=arguments[1];this.send=function(){return url&&-1!==url.indexOf("/api/")&&("apiKey"===authType?this.setRequestHeader("X-API-KEY",authValue):"Bearer"===authType&&this.setRequestHeader("Authorization","Bearer "+authValue)),originalSend.apply(this,arguments)},originalOpen.apply(this,arguments)};var originalFetch=window.fetch;window.fetch=function(input,init){var isApiRequest=!1,url="";if("string"==typeof input?url=input:input instanceof Request&&(url=input.url),isApiRequest=-1!==url.indexOf("/api/"),!isApiRequest)return originalFetch.apply(this,arguments);init=init||{},init.headers=init.headers||{};var headers=new Headers(init.headers);return"apiKey"===authType?headers.set("X-API-KEY",authValue):"Bearer"===authType&&headers.set("Authorization","Bearer "+authValue),init.headers=headers,originalFetch.call(this,input,init)}}})();