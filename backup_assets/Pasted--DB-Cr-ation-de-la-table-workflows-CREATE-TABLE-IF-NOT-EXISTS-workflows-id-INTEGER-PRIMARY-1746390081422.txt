[DB] Création de la table workflows...
CREATE TABLE IF NOT EXISTS workflows (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    application_id INTEGER NOT NULL,
    name TEXT NOT NULL,
    description TEXT,
    is_active INTEGER DEFAULT 1,
    flow_json TEXT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (application_id) REFERENCES applications(id) ON DELETE CASCADE
  )
[DB] Création de la table system_logs...
CREATE TABLE IF NOT EXISTS system_logs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    event_type TEXT NOT NULL,
    message TEXT NOT NULL,
    details TEXT,
    severity TEXT NOT NULL DEFAULT 'INFO',
    user_id INTEGER,
    ip_address TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL
  )
SELECT COUNT(*) as count FROM users WHERE username = 'admin'
SELECT COUNT(*) as count FROM applications WHERE name = 'Default'
[DB] Création de l'application par défaut...
INSERT INTO applications (name, description) VALUES ('Default', 'Application par défaut pour le '/*+14 bytes*/)
PRAGMA table_info(api_keys)
[DB] Structure de la table api_keys vérifiée
SELECT COUNT(*) as count FROM api_keys WHERE key = 'dev-key'
[DB] Création de la clé API de développement...
[DB] Erreur lors de l'exécution de la requête: SqliteError: no such column: Default
    at Database.prepare (/home/sv/FhirConverter/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at /home/sv/FhirConverter/src/services/dbService.js:217:25
    at new Promise (<anonymous>)
    at Object.run (/home/sv/FhirConverter/src/services/dbService.js:209:10)
    at initializeDatabase (/home/sv/FhirConverter/init-db.js:78:23) {
  code: 'SQLITE_ERROR'
}
[DB] Erreur lors de l'initialisation de la base de données: SqliteError: no such column: Default
    at Database.prepare (/home/sv/FhirConverter/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at /home/sv/FhirConverter/src/services/dbService.js:217:25
    at new Promise (<anonymous>)
    at Object.run (/home/sv/FhirConverter/src/services/dbService.js:209:10)
    at initializeDatabase (/home/sv/FhirConverter/init-db.js:78:23) {
  code: 'SQLITE_ERROR'
}
❌ Erreur lors de l'initialisation de la base de données. Vérifiez les logs pour plus de détails.
[TERMINOLOGY] Préparation des terminologies françaises...
[6/7] Finalisation de l'installation...
[7/7] Enregistrement des informations d'environnement...
✅ Node.js local intégré: v20.15.1
✅ Fichier .nodejsrc créé pour utiliser le Node.js intégré
==========================================================
     ✅ Installation de FHIRHub terminée avec succès
==========================================================

Pour démarrer l'application :
  ./start.sh
