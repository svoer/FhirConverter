 usage_count INTEGER DEFAULT 0,
    monthly_quota INTEGER,
    current_usage INTEGER DEFAULT 0,
    settings TEXT,
    test_result TEXT,
    UNIQUE(provider_name)
  )
[DB] Création de table: CREATE TABLE IF NOT EXISTS workflows (
CREATE TABLE IF NOT EXISTS workflows (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    application_id INTEGER NOT NULL,
    name TEXT NOT NULL,
    description TEXT,
    is_active INTEGER DEFAULT 1,
    flow_json TEXT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (application_id) REFERENCES applications(id) ON DELETE CASCADE
  )
[DB] Création de table: CREATE TABLE IF NOT EXISTS system_logs (
CREATE TABLE IF NOT EXISTS system_logs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    event_type TEXT NOT NULL,
    message TEXT NOT NULL,
    details TEXT,
    severity TEXT NOT NULL DEFAULT 'INFO',
    user_id INTEGER,
    ip_address TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL
  )
SELECT name FROM sqlite_master WHERE type='table' AND name='users'
[DB] Vérification des tables créées: { lastID: 0, changes: 0 }
SELECT id FROM users WHERE username = 'admin'
[DB] Création de l'application par défaut et de la clé API de développement
INSERT OR IGNORE INTO applications (name, description, created_by) SELECT 'Application par défaut', 'Application générée automatiq'/*+29 bytes*/, (SELECT id FROM users WHERE username = 'admin')
[DB] Erreur lors de l'exécution de la requête: SqliteError: table api_keys has no column named hashed_key
    at Database.prepare (/home/sv/FhirConverter/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at /home/sv/FhirConverter/src/services/dbService.js:217:25
    at new Promise (<anonymous>)
    at run (/home/sv/FhirConverter/src/services/dbService.js:209:10)
    at createTables (/home/sv/FhirConverter/src/services/dbService.js:165:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'SQLITE_ERROR'
}
[DB] Erreur lors de la création de l'application par défaut: SqliteError: table api_keys has no column named hashed_key
    at Database.prepare (/home/sv/FhirConverter/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at /home/sv/FhirConverter/src/services/dbService.js:217:25
    at new Promise (<anonymous>)
    at run (/home/sv/FhirConverter/src/services/dbService.js:209:10)
    at createTables (/home/sv/FhirConverter/src/services/dbService.js:165:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'SQLITE_ERROR'
}
[DB] Structure de la base de données vérifiée
[WORKFLOW] Initialisation de l'éditeur de workflow visuel personnalisé
[WORKFLOW] Service de workflow initialisé avec succès

